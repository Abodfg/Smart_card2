# ุฏููู ุงูุฅุฏุงุฑุฉ ุงูุดุงูู - Abod Card System
## ุฏููู ุชุนุฏูู ูุฅุฏุงุฑุฉ ุงููุธุงู ุจุงููุงูู

---

## ๐ ุฌุฏูู ุงููุญุชููุงุช
1. [ุชุนุฏูู ุงูููุงุฌุขุช ุงูููููุฉ](#daily-surprises)
2. [ุฅุฏุงุฑุฉ ุงูุนุฑูุถ ูุงูููุจููุงุช](#offers)
3. [ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช](#products)
4. [ุฅุฏุงุฑุฉ ุงููุฆุงุช](#categories)
5. [ุฅุฏุงุฑุฉ ุงูุฃููุงุฏ](#codes)
6. [ุงูุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช](#database)
7. [ุชุนุฏูู ุงููุตูุต ูุงูุฑุณุงุฆู](#texts)
8. [ุฅุนุงุฏุฉ ุชุดุบูู ุงููุธุงู](#restart)

---

## ๐ ุชุนุฏูู ุงูููุงุฌุขุช ุงูููููุฉ {#daily-surprises}

### ๐ ุงูููุงู: `/app/backend/offers_config.py`

```python
# ุงูููุงุฌุขุช ุงูููููุฉ (ูููู ุชุฎุตูุตูุง ุญุณุจ ุงูููู)
DAILY_SURPRISES = [
    "๐ฎ ุฎุตู 20% ุนูู ุฌููุน ุจุทุงูุงุช ุงูุฃูุนุงุจ",
    "๐ณ ุดุญู ูุฌุงูู ููุทูุจุงุช ููู $30",
    "๐ ุจุทุงูุฉ ูุฏุงูุง ูุฌุงููุฉ ูุน ูู ุดุญู $100",
    "โก ุชุณููู ูุถุงุนู ุงูุณุฑุนุฉ ุงูููู ููุท",
    "๐ ููุงุท ูุถุงุนูุฉ ููู ุนูููุฉ ุดุฑุงุก"
]
```

### ๐ง ุทุฑููุฉ ุงูุชุนุฏูู:
1. ุงูุชุญ ููู `/app/backend/offers_config.py`
2. ุนุฏู ูุงุฆูุฉ `DAILY_SURPRISES`
3. ุฃุถู ุฃู ุงุญุฐู ุงูุนุฑูุถ ุญุณุจ ุงูุญุงุฌุฉ
4. ุงุญูุธ ุงูููู
5. ุฃุนุฏ ุชุดุบูู ุงูุฎุงุฏู: `sudo supervisorctl restart backend`

### ๐ก ูุซุงู ุชุนุฏูู:
```python
DAILY_SURPRISES = [
    "๐ฎ ุฎุตู 25% ุนูู PlayStation Cards",
    "๐ ุนุฑุถ ุฎุงุต: ุงุดุชุฑู 2 ูุงุญุตู ุนูู 1 ูุฌุงูุงู",
    "๐ ุชุณููู ููุฑู ูุฌููุน ุงูุทูุจุงุช ุงูููู",
    "๐ฐ ูุงุด ุจุงู 15% ุนูู ูู ุนูููุฉ ุดุฑุงุก"
]
```

---

## ๐ฅ ุฅุฏุงุฑุฉ ุงูุนุฑูุถ ูุงูููุจููุงุช {#offers}

### ๐ ุงูููุงู: `/app/backend/offers_config.py`

### ุงูุนุฑูุถ ุงูุฃุณุงุณูุฉ:
```python
CURRENT_OFFERS = [
    "๐ฎ ุฎุตู 15% ุนูู ุจุทุงูุงุช ุงูุฃูุนุงุจ",
    "๐ณ ุฎุตู 10% ุนูู ุจุทุงูุงุช Google Play",  
    "๐ต ุนุฑูุถ ุฎุงุตุฉ ุนูู ุงุดุชุฑุงูุงุช ุงูุจุฑุงูุฌ",
    "๐๏ธ ุดุญู ูุฌุงูู ููุทูุจุงุช ููู $50"
]
```

### ุฃููุงุฏ ุงูููุจููุงุช:
```python
COUPON_CODES = {
    "WELCOME10": "ุฎุตู 10% ููุนููุงุก ุงูุฌุฏุฏ",
    "VIP15": "ุฎุตู 15% ููุนุถููุฉ ุงูุฐูุจูุฉ", 
    "DAILY20": "ุฎุตู ูููู 20%",
    "FREE50": "ุดุญู ูุฌุงูู ููุทูุจุงุช ููู $50"
}
```

### ุฑุณุงูุฉ ุงูุนุฑูุถ ุงูุฅุถุงููุฉ:
```python
OFFERS_FOOTER = """
๐ ููุงุณุชูุงุฏุฉ ูู ุงูุนุฑูุถ ุชูุงุตู ูุน ุงูุฏุนู ุงูููู ุฃู ุงุทูุจ ููุชุฌู ุงูุขู!

โฐ ุงูุนุฑูุถ ุณุงุฑูุฉ ุญุชู ููุงุฏ ุงููููุฉ ุฃู ุงูุชูุงุก ุงููุฏุฉ ุงููุญุฏุฏุฉ

๐ ููุญุตูู ุนูู ุฃููุงุฏ ุงูุฎุตูุ ุชูุงุตู ูุน ุงูุฏุนู ุงูููู
๐ฌ @AbodStoreVIP"""
```

---

## ๐ฆ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช {#products}

### ุนุจุฑ ุจูุช ุงูุฅุฏุงุฑุฉ:
1. ุจูุช ุงูุฅุฏุงุฑุฉ โ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช
2. โ ุฅุถุงูุฉ ููุชุฌ / โ๏ธ ุชุนุฏูู ููุชุฌ / ๐ ุญุฐู ููุชุฌ

### ุนุจุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช ูุจุงุดุฑุฉ:

#### ุฅุถุงูุฉ ููุชุฌ ุฌุฏูุฏ:
```javascript
// ูู MongoDB
db.products.insertOne({
    "id": "product_uuid_here",
    "name": "ุงุณู ุงูููุชุฌ",
    "description": "ูุตู ุงูููุชุฌ",
    "terms": "ุดุฑูุท ูุฃุญูุงู ุงูููุชุฌ",
    "is_active": true,
    "created_at": new Date()
})
```

#### ุชุนุฏูู ููุชุฌ:
```javascript
db.products.updateOne(
    {"name": "ุงุณู ุงูููุชุฌ ุงููุฏูู"},
    {
        "$set": {
            "name": "ุงูุงุณู ุงูุฌุฏูุฏ",
            "description": "ุงููุตู ุงูุฌุฏูุฏ",
            "terms": "ุงูุดุฑูุท ุงูุฌุฏูุฏุฉ"
        }
    }
)
```

#### ุญุฐู ููุชุฌ:
```javascript
db.products.deleteOne({"name": "ุงุณู ุงูููุชุฌ"})
```

#### ุนุฑุถ ุฌููุน ุงูููุชุฌุงุช:
```javascript
db.products.find().pretty()
```

---

## ๐ท๏ธ ุฅุฏุงุฑุฉ ุงููุฆุงุช {#categories}

### ุนุจุฑ ุจูุช ุงูุฅุฏุงุฑุฉ:
1. ุจูุช ุงูุฅุฏุงุฑุฉ โ ุฅุฏุงุฑุฉ ุงูููุชุฌุงุช โ ุฅุถุงูุฉ ูุฆุฉ

### ุนุจุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

#### ุฅุถุงูุฉ ูุฆุฉ ุฌุฏูุฏุฉ:
```javascript
db.categories.insertOne({
    "id": "category_uuid_here",
    "name": "ุงุณู ุงููุฆุฉ",
    "description": "ูุตู ุงููุฆุฉ",
    "category_type": "ููุน ุงููุฆุฉ",
    "price": 10.00,
    "delivery_type": "code", // ุฃู "phone", "email", "id", "manual"
    "redemption_method": "ุทุฑููุฉ ุงูุงุณุชุฑุฏุงุฏ",
    "terms": "ุงูุดุฑูุท ูุงูุฃุญูุงู",
    "image_url": "ุฑุงุจุท ุงูุตูุฑุฉ (ุงุฎุชูุงุฑู)",
    "product_id": "ูุนุฑู ุงูููุชุฌ ุงููุฑุชุจุท",
    "created_at": new Date()
})
```

#### ุชุนุฏูู ูุฆุฉ:
```javascript
db.categories.updateOne(
    {"name": "ุงุณู ุงููุฆุฉ"},
    {
        "$set": {
            "price": 15.00,
            "description": "ูุตู ุฌุฏูุฏ",
            "delivery_type": "manual"
        }
    }
)
```

#### ุญุฐู ูุฆุฉ:
```javascript
db.categories.deleteOne({"name": "ุงุณู ุงููุฆุฉ"})
```

#### ุนุฑุถ ุงููุฆุงุช ุญุณุจ ููุน ุงูุชุณููู:
```javascript
db.categories.find({"delivery_type": "code"}).pretty()
```

---

## ๐ซ ุฅุฏุงุฑุฉ ุงูุฃููุงุฏ {#codes}

### ุนุจุฑ ุจูุช ุงูุฅุฏุงุฑุฉ:
1. ุจูุช ุงูุฅุฏุงุฑุฉ โ ุฅุฏุงุฑุฉ ุงูุฃููุงุฏ โ ุฅุถุงูุฉ ุฃููุงุฏ

### ุนุจุฑ ูุงุนุฏุฉ ุงูุจูุงูุงุช:

#### ุฅุถุงูุฉ ููุฏ ูุงุญุฏ:
```javascript
db.codes.insertOne({
    "id": "code_uuid_here",
    "code": "ABC123DEF456",
    "description": "ูุตู ุงูููุฏ",
    "terms": "ุดุฑูุท ุงูุงุณุชุฎุฏุงู",
    "category_id": "ูุนุฑู ุงููุฆุฉ",
    "code_type": "text", // ุฃู "number", "dual"
    "serial_number": "1234567890", // ููููุน dual ููุท
    "is_used": false,
    "used_by": null,
    "used_at": null,
    "created_at": new Date()
})
```

#### ุฅุถุงูุฉ ุฃููุงุฏ ูุชุนุฏุฏุฉ (ูุฌููุนุฉ):
```javascript
// ูุซุงู ูุฅุถุงูุฉ 10 ุฃููุงุฏ
var codes = [];
for(var i = 1; i <= 10; i++) {
    codes.push({
        "id": "code_" + i + "_uuid",
        "code": "GAME" + (1000 + i),
        "description": "ููุฏ ูุนุจุฉ",
        "terms": "ุตุงูุญ ููุฏุฉ ุณูุฉ",
        "category_id": "ูุนุฑู_ูุฆุฉ_ุงูุฃูุนุงุจ",
        "code_type": "text",
        "is_used": false,
        "created_at": new Date()
    });
}
db.codes.insertMany(codes);
```

#### ุงูุจุญุซ ุนู ุงูุฃููุงุฏ ุงููุชุงุญุฉ:
```javascript
db.codes.find({
    "category_id": "ูุนุฑู_ุงููุฆุฉ",
    "is_used": false
}).pretty()
```

#### ุนุฏุฏ ุงูุฃููุงุฏ ุงููุชุงุญุฉ ููู ูุฆุฉ:
```javascript
db.codes.aggregate([
    {$match: {"is_used": false}},
    {$group: {_id: "$category_id", count: {$sum: 1}}}
])
```

---

## ๐๏ธ ุงูุชุนุงูู ูุน ูุงุนุฏุฉ ุงูุจูุงูุงุช {#database}

### ุงูุงุชุตุงู ุจูุงุนุฏุฉ ุงูุจูุงูุงุช:
```bash
# ูู ุฏุงุฎู ุงููููุชููุฑ
mongo mongodb://localhost:27017/abod_card_db
```

### ุงูุนูููุงุช ุงูุฃุณุงุณูุฉ:

#### ุนุฑุถ ุฌููุน ุงููุฌููุนุงุช:
```javascript
show collections
```

#### ุนุฑุถ ุงููุณุชุฎุฏููู:
```javascript
db.users.find().pretty()
```

#### ุนุฑุถ ุงูุทูุจุงุช:
```javascript
db.orders.find().pretty()
```

#### ุงูุจุญุซ ุนู ูุณุชุฎุฏู ูุนูู:
```javascript
db.users.find({"telegram_id": 123456789})
```

#### ุนุฑุถ ุงูุทูุจุงุช ุงููุนููุฉ ููุท:
```javascript
db.orders.find({"status": "pending"}).pretty()
```

#### ุญุฐู ุงูุทูุจุงุช ุงููุฏููุฉ (ุฃูุซุฑ ูู ุดูุฑ):
```javascript
var oneMonthAgo = new Date();
oneMonthAgo.setMonth(oneMonthAgo.getMonth() - 1);
db.orders.deleteMany({
    "order_date": {"$lt": oneMonthAgo},
    "status": "completed"
})
```

#### ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุงูุจูุงูุงุช:
```bash
mongodump --db abod_card_db --out /backup/
```

#### ุงุณุชุนุงุฏุฉ ุงููุณุฎุฉ ุงูุงุญุชูุงุทูุฉ:
```bash
mongorestore /backup/abod_card_db/
```

---

## ๐ ุชุนุฏูู ุงููุตูุต ูุงูุฑุณุงุฆู {#texts}

### ๐ ุงูููุงู: `/app/backend/server.py`

### ุฑุณุงุฆู ุงูุชุฑุญูุจ:
ุงุจุญุซ ุนู: `ูุฑุญุจุงู ุจู`
```python
welcome_text = f"""ูุฑุญุจุงู {name}! 

๐ฐ ุฑุตูุฏู: ${user_balance:.2f}
๐ ูุนุฑู ุญุณุงุจู: `{telegram_id}`"""
```

### ุฑุณุงุฆู ุงููุฌุงุญ:
ุงุจุญุซ ุนู: `ุชู ุงูุดุฑุงุก ุจูุฌุงุญ`
```python
success_text = f"""โ *ุชู ุงูุดุฑุงุก ุจูุฌุงุญ!*

๐ฆ ุงูููุชุฌ: *{product['name']}*"""
```

### ุฑุณุงุฆู ุงูุฃุฎุทุงุก:
ุงุจุญุซ ุนู: `ุญุฏุซ ุฎุทุฃ`
```python
error_text = "โ ุญุฏุซ ุฎุทุฃ ุฃุซูุงุก ูุนุงูุฌุฉ ุทูุจู"
```

### ุฑุณุงุฆู ุงูุฏุนู ุงูููู:
ุงุจุญุซ ุนู: `ุงูุฏุนู ุงูููู`
```python
support_text = """๐ฌ *ุงูุฏุนู ุงูููู*

ููุญุตูู ุนูู ุงููุณุงุนุฏุฉ: @AbodStoreVIP"""
```

---

## ๐ ุฅุนุงุฏุฉ ุชุดุบูู ุงููุธุงู {#restart}

### ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุงุฏู ุงูุฎููู ููุท:
```bash
sudo supervisorctl restart backend
```

### ุฅุนุงุฏุฉ ุชุดุบูู ุงููุธุงู ูุงููุงู:
```bash
sudo supervisorctl restart all
```

### ุงูุชุญูู ูู ุญุงูุฉ ุงูุฎุฏูุงุช:
```bash
sudo supervisorctl status
```

### ุนุฑุถ ุณุฌูุงุช ุงูุฃุฎุทุงุก:
```bash
tail -f /var/log/supervisor/backend.err.log
```

---

## ๐จ ูุตุงุฆุญ ูููุฉ ููุฃูุงู

### 1. ุนูู ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูุจู ุฃู ุชุนุฏูู:
```bash
# ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ูุงุนุฏุฉ ุงูุจูุงูุงุช
mongodump --db abod_card_db --out /backup/$(date +%Y%m%d)/

# ูุณุฎุฉ ุงุญุชูุงุทูุฉ ูู ุงูููุฏ
cp -r /app/backend /backup/code_$(date +%Y%m%d)/
```

### 2. ุงุฎุชุจุงุฑ ุงูุชุนุฏููุงุช:
- ุงุฎุชุจุฑ ุฃู ุชุนุฏูู ุนูู ุจูุฆุฉ ุชุทููุฑ ุฃููุงู
- ุชุฃูุฏ ูู ุนูู ุฌููุน ุงููุธุงุฆู ุจุนุฏ ุงูุชุนุฏูู
- ุฑุงุฌุน ุณุฌูุงุช ุงูุฃุฎุทุงุก ุจุงูุชุธุงู

### 3. ูุฑุงูุจุฉ ุงููุธุงู:
```bash
# ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงูุฐุงูุฑุฉ
free -h

# ูุฑุงูุจุฉ ุงุณุชุฎุฏุงู ุงููุฑุต
df -h

# ูุฑุงูุจุฉ ุงูุนูููุงุช
top
```

---

## ๐ ุงูุฏุนู ูุงููุณุงุนุฏุฉ

ุฅุฐุง ูุงุฌูุช ุฃู ูุดุงูู:
1. ุชุญูู ูู ุณุฌูุงุช ุงูุฃุฎุทุงุก ุฃููุงู
2. ุชุฃูุฏ ูู ุฅุนุงุฏุฉ ุชุดุบูู ุงูุฎุฏูุงุช ุจุนุฏ ุงูุชุนุฏูู
3. ุฑุงุฌุน ูุฐุง ุงูุฏููู ููุชุฃูุฏ ูู ุงูุฎุทูุงุช
4. ุชูุงุตู ูุน ูุฑูู ุงูุชุทููุฑ ุนูุฏ ุงูุญุงุฌุฉ

---

**๐ ุขุฎุฑ ุชุญุฏูุซ:** ุณุจุชูุจุฑ 2025
**๐ง ููุฏุนู:** ุงุณุชุฎุฏู ูุธุงู ุงูุฏุนู ูู Emergent